# LLM-learn é¡¹ç›®ä½¿ç”¨æŒ‡å—

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

LLM-learn æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„å­¦ä¹ é¡¹ç›®æ¡†æ¶ï¼Œä¸“ä¸ºå­¦ä¹  LLM åº”ç”¨å¼€å‘è€Œè®¾è®¡ã€‚é¡¹ç›®é‡‡ç”¨ä¼ä¸šçº§ç›®å½•ç»“æ„ï¼Œæ”¯æŒå¿«é€Ÿæ·»åŠ æ–°çš„å­¦ä¹ æ¨¡å—ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
LLM-learn/
â”œâ”€â”€ src/                   # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ base_app.py    # åº”ç”¨åŸºç±»
â”‚   â”‚   â””â”€â”€ app_manager.py # åº”ç”¨ç®¡ç†å™¨
â”‚   â”œâ”€â”€ apps/              # åº”ç”¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ logging_demo.py    # æ—¥å¿—æ¼”ç¤º
â”‚   â”‚   â”œâ”€â”€ gradio_demo.py     # Gradio æ¼”ç¤º
â”‚   â”‚   â”œâ”€â”€ llm_app_demo.py    # LLM æ¼”ç¤º
â”‚   â”‚   â””â”€â”€ testapp_app.py     # æµ‹è¯•åº”ç”¨ï¼ˆç¤ºä¾‹ï¼‰
â”‚   â”œâ”€â”€ utils/             # å·¥å…·æ¨¡å—
â”‚   â”‚   â””â”€â”€ logger_utils.py    # æ—¥å¿—å·¥å…·
â”‚   â”œâ”€â”€ demos/             # æ¼”ç¤ºæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ helloworld.py      # Hello World
â”‚   â”‚   â”œâ”€â”€ import_examples.py # å¯¼å…¥ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ example_with_logging.py # æ—¥å¿—ç¤ºä¾‹
â”‚   â””â”€â”€ main.py            # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ logging_demo.json  # æ—¥å¿—æ¼”ç¤ºé…ç½®
â”œâ”€â”€ scripts/               # è„šæœ¬ç›®å½•
â”œâ”€â”€ docs/                  # æ–‡æ¡£ç›®å½•
â”œâ”€â”€ tests/                 # æµ‹è¯•ç›®å½•
â”œâ”€â”€ logs/                  # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”œâ”€â”€ requirements.txt       # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ setup.py              # é¡¹ç›®å®‰è£…é…ç½®
â”œâ”€â”€ pyproject.toml        # ç°ä»£ Python é¡¹ç›®é…ç½®
â”œâ”€â”€ Makefile              # é¡¹ç›®ç®¡ç†å‘½ä»¤
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source /Users/zhangzhongyuan/PycharmProjects/venv/bin/activate

# å®‰è£…é¡¹ç›®ä¾èµ–
pip install -r requirements.txt
```

### 2. æŸ¥çœ‹å¯ç”¨åº”ç”¨

```bash
# åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„å­¦ä¹ æ¨¡å—
python src/main.py list
```

### 3. è¿è¡Œåº”ç”¨

```bash
# è¿è¡Œæ—¥å¿—æ¼”ç¤º
python src/main.py run LoggingDemoApp

# è¿è¡Œ Gradio æ¼”ç¤º
python src/main.py run GradioApp

# è¿è¡Œ LLM æ¼”ç¤º
python src/main.py run LLMApp
```

## ğŸ› ï¸ æ·»åŠ æ–°çš„å­¦ä¹ æ¨¡å—

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·ï¼ˆæ¨èï¼‰

```bash
# åˆ›å»ºæ–°çš„ Gradio åº”ç”¨
python src/main.py create MyLearningApp gradio

# åˆ›å»ºæ–°çš„æ§åˆ¶å°åº”ç”¨
python src/main.py create MyLearningApp console
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨åˆ›å»º

1. åœ¨ `src/apps/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ Python æ–‡ä»¶
2. ç»§æ‰¿ç›¸åº”çš„åŸºç±»
3. å®ç°å¿…è¦çš„æ–¹æ³•

#### Gradio åº”ç”¨æ¨¡æ¿

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
æˆ‘çš„å­¦ä¹ æ¨¡å—
"""

import gradio as gr
from core.base_app import GradioApp
from typing import Dict, Any

class MyApp(GradioApp):
    """æˆ‘çš„åº”ç”¨"""
    
    def __init__(self):
        super().__init__(
            name="my_app",
            description="æˆ‘çš„å­¦ä¹ æ¨¡å—",
            port=7863
        )
    
    def get_info(self) -> Dict[str, Any]:
        """è·å–åº”ç”¨ä¿¡æ¯"""
        return {
            "name": self.name,
            "description": self.description,
            "version": "1.0.0",
            "type": "gradio"
        }
    
    def create_interface(self):
        """åˆ›å»º Gradio ç•Œé¢"""
        with gr.Blocks(title="æˆ‘çš„å­¦ä¹ æ¨¡å—") as interface:
            gr.Markdown("# æˆ‘çš„å­¦ä¹ æ¨¡å—")
            
            with gr.Row():
                with gr.Column():
                    input_text = gr.Textbox(
                        label="è¾“å…¥",
                        placeholder="è¯·è¾“å…¥å†…å®¹..."
                    )
                    submit_btn = gr.Button("æäº¤")
                
                with gr.Column():
                    output_text = gr.Textbox(
                        label="è¾“å‡º",
                        interactive=False
                    )
            
            def process_input(text):
                # åœ¨è¿™é‡Œå®ç°æ‚¨çš„ä¸šåŠ¡é€»è¾‘
                return f"å¤„ç†ç»“æœ: {text}"
            
            submit_btn.click(
                fn=process_input,
                inputs=[input_text],
                outputs=[output_text]
            )
        
        return interface

# åº”ç”¨å®ä¾‹
app = MyApp()

if __name__ == "__main__":
    app.run()
```

#### æ§åˆ¶å°åº”ç”¨æ¨¡æ¿

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
æˆ‘çš„æ§åˆ¶å°åº”ç”¨
"""

from core.base_app import ConsoleApp
from typing import Dict, Any

class MyConsoleApp(ConsoleApp):
    """æˆ‘çš„æ§åˆ¶å°åº”ç”¨"""
    
    def __init__(self):
        super().__init__(
            name="my_console_app",
            description="æˆ‘çš„æ§åˆ¶å°åº”ç”¨"
        )
    
    def get_info(self) -> Dict[str, Any]:
        """è·å–åº”ç”¨ä¿¡æ¯"""
        return {
            "name": self.name,
            "description": self.description,
            "version": "1.0.0",
            "type": "console"
        }
    
    def run_console(self, **kwargs):
        """æ§åˆ¶å°åº”ç”¨çš„ä¸»è¦é€»è¾‘"""
        self.logger.info("å¼€å§‹è¿è¡Œæˆ‘çš„æ§åˆ¶å°åº”ç”¨")
        
        # åœ¨è¿™é‡Œå®ç°æ‚¨çš„ä¸šåŠ¡é€»è¾‘
        print("æ¬¢è¿ä½¿ç”¨æˆ‘çš„æ§åˆ¶å°åº”ç”¨!")
        
        # ç¤ºä¾‹ï¼šäº¤äº’å¼è¾“å…¥
        user_input = input("è¯·è¾“å…¥ä¸€äº›å†…å®¹: ")
        print(f"æ‚¨è¾“å…¥çš„å†…å®¹æ˜¯: {user_input}")
        
        self.logger.info("åº”ç”¨è¿è¡Œå®Œæˆ")

# åº”ç”¨å®ä¾‹
app = MyConsoleApp()

if __name__ == "__main__":
    app.run()
```

## ğŸ“‹ å¯ç”¨å‘½ä»¤

### ä¸»ç¨‹åºå‘½ä»¤

```bash
# åˆ—å‡ºæ‰€æœ‰åº”ç”¨
python src/main.py list

# è¿è¡ŒæŒ‡å®šåº”ç”¨
python src/main.py run <åº”ç”¨åç§°>
python src/main.py run <åº”ç”¨åç§°> --port <ç«¯å£å·>

# åˆ›å»ºæ–°åº”ç”¨
python src/main.py create <åº”ç”¨åç§°> <åº”ç”¨ç±»å‹>
# åº”ç”¨ç±»å‹: gradio, console

# æŸ¥çœ‹åº”ç”¨ä¿¡æ¯
python src/main.py info <åº”ç”¨åç§°>
```

### Makefile å‘½ä»¤

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help

# å®‰è£…é¡¹ç›®ä¾èµ–
make install

# å®‰è£…å¼€å‘ä¾èµ–
make install-dev

# è¿è¡Œåº”ç”¨
make run-gradio    # è¿è¡Œ Gradio æ¼”ç¤º
make run-llm       # è¿è¡Œ LLM æ¼”ç¤º
make run-logging   # è¿è¡Œæ—¥å¿—æ¼”ç¤º
make run-example   # è¿è¡Œæ—¥å¿—ç¤ºä¾‹

# åº”ç”¨ç®¡ç†
make list-apps     # åˆ—å‡ºæ‰€æœ‰åº”ç”¨
make create-app    # åˆ›å»ºæ–°åº”ç”¨æ¨¡æ¿

# ä»£ç è´¨é‡
make format        # ä»£ç æ ¼å¼åŒ–
make lint          # ä»£ç æ£€æŸ¥
make test          # è¿è¡Œæµ‹è¯•
make clean         # æ¸…ç†ä¸´æ—¶æ–‡ä»¶
```

## ğŸ”§ é…ç½®ç®¡ç†

### åº”ç”¨é…ç½®æ–‡ä»¶

æ¯ä¸ªåº”ç”¨å¯ä»¥æœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼Œæ”¾åœ¨ `config/` ç›®å½•ä¸‹ï¼š

```json
{
    "app": {
        "name": "my_app",
        "description": "æˆ‘çš„åº”ç”¨",
        "version": "1.0.0"
    },
    "logging": {
        "level": "INFO",
        "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
    },
    "gradio": {
        "port": 7863,
        "share": false,
        "debug": true
    }
}
```

### ç¯å¢ƒå˜é‡

```bash
# è®¾ç½®æ—¥å¿—çº§åˆ«
export LOG_LEVEL=DEBUG

# è®¾ç½®åº”ç”¨ç«¯å£
export APP_PORT=7863
```

## ğŸ“š å­¦ä¹ è¦ç‚¹

### 1. åº”ç”¨åŸºç±»

- `BaseApp`: æ‰€æœ‰åº”ç”¨çš„åŸºç±»
- `GradioApp`: Gradio åº”ç”¨çš„åŸºç±»
- `ConsoleApp`: æ§åˆ¶å°åº”ç”¨çš„åŸºç±»

### 2. åº”ç”¨ç®¡ç†å™¨

- è‡ªåŠ¨å‘ç°å’Œæ³¨å†Œåº”ç”¨
- ç»Ÿä¸€çš„åº”ç”¨ç®¡ç†æ¥å£
- æ”¯æŒåŠ¨æ€åŠ è½½åº”ç”¨

### 3. æ—¥å¿—ç³»ç»Ÿ

- ç»Ÿä¸€çš„æ—¥å¿—é…ç½®
- æ”¯æŒå¤šç§æ—¥å¿—å¤„ç†å™¨
- ç»“æ„åŒ–æ—¥å¿—è®°å½•

### 4. æ¨¡å—åŒ–è®¾è®¡

- æ¸…æ™°çš„ç›®å½•ç»“æ„
- å¯æ‰©å±•çš„æ¶æ„
- æ˜“äºç»´æŠ¤å’Œæ‰©å±•

## ğŸ¯ æœ€ä½³å®è·µ

### 1. åº”ç”¨å¼€å‘

- ç»§æ‰¿åˆé€‚çš„åŸºç±»
- å®ç°å¿…è¦çš„æ–¹æ³•
- æ·»åŠ é€‚å½“çš„æ–‡æ¡£
- ä½¿ç”¨ç±»å‹æ³¨è§£

### 2. é…ç½®ç®¡ç†

- ä½¿ç”¨é…ç½®æ–‡ä»¶ç®¡ç†è®¾ç½®
- æ”¯æŒç¯å¢ƒå˜é‡è¦†ç›–
- æä¾›åˆç†çš„é»˜è®¤å€¼

### 3. é”™è¯¯å¤„ç†

- ä½¿ç”¨ try-catch å¤„ç†å¼‚å¸¸
- è®°å½•è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
- æä¾›ç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯

### 4. æ—¥å¿—è®°å½•

- ä½¿ç”¨é€‚å½“çš„æ—¥å¿—çº§åˆ«
- è®°å½•å…³é”®æ“ä½œä¿¡æ¯
- é¿å…è®°å½•æ•æ„Ÿæ•°æ®

## ğŸ”— ç›¸å…³èµ„æº

- [Python å®˜æ–¹æ–‡æ¡£](https://docs.python.org/)
- [Gradio å®˜æ–¹æ–‡æ¡£](https://gradio.app/docs/)
- [Python æ—¥å¿—æ¨¡å—](https://docs.python.org/3/library/logging.html)
- [é¡¹ç›® GitHub ä»“åº“](https://github.com/zhangzhongyuan/LLM-learn)

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š

1. æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£
2. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶
3. æäº¤ Issue
4. è”ç³»é¡¹ç›®ç»´æŠ¤è€…

---

**åˆ›å»ºæ—¶é—´ï¼š** 2024å¹´12æœˆ
**ç‰ˆæœ¬ï¼š** 1.0.0
**ä½œè€…ï¼š** Zhang Zhongyuan 